<html>
<head>
</head>
<body>
<pre>
From dakhlia@wuecona.wustl.edu  Wed Sep 27 16:42:39 1995
msgnum: msg16540
From: dakhlia_at_wuecona.wustl_dot_edu (Sami Dakhlia)
Subject: Charge control 2 (Q&amp;A) (long)
Date: Wed, 27 Sep 1995 16:42:34 -0500 (CDT)

Charge Controller: Questions and Answers

(Original answers from Bob Hoover, slightly edited for this format.--Sami)

Q: What is it? 

A: The controller is built around a voltage comparitor chip.  It connects
the solar panel to the battery when the battery voltage drops below the
panel voltage (plus a few other things). 

Q: Couldn't I save the money and control manually, i.e., check every now
and then and disconnect the panels when necessary? 

A: When dealing with a chemical entity such as a lead-acid battery, any
control mechanism will need some form of feedback; if you put a human in
the loop they would have to monitor a gauge every minute or two during
daylight hours, otherwise the system would over- or under-charge. 

Q: But wouldn't a regulator taken from some junk yard alternator do the
same job? 

A: An automotive voltage regulator uses a hell of a lot of current.  A
voltage comparitor uses only a few millionths (!) of an ampere to do its
job.  But I'm old; time marches on.  Mebbe the new solid-state voltage
regulators built into alternators would do the job.  (I know there's a
chip dedicated to that task, but it's kinda pricey, quantity one.)

Q: So what does it take to build my own controller? 

A: If you're a dab hand with a soldering iron and if you can scrounge a
couple of relays, the other parts would only cost a few bucks. (But you'll
need a digital voltmeter and variable power supply to dial-in the
set-points [a one-time job, after assembly]). 

Q: Where do I find instructions? 

A: The controller schematic, pc-board layout, assembly and adjustment
instructions are found in Part 5 of my series 'The Portable Pakratt'
(subtitled 'Emergency Power Systems') The series was originally published
in CTM Magazine.  Part 5 appeared in May, 1987, page 25.  [With Bob's
permission, I'll send a copy to whomever is interested. If demand is high,
I'll just post it on the web instead.--Sami, dakhlia_at_wuecona.wustl_dot_edu]

Q: Shouldn't the circuit be protected with a fuse?

A: If you use an in-line fuse it should be on the order of 1/4 amp (250ma). 

Q: The instructions suggest using a high quality relay. What
differentiates such a relay from a cheaper horn or headlight relay? 

A: A good mil-spec'd relay costs about $100, qty 1.  They have
low-resistance contacts, low pull-in current and are extremely well built. 
I was lucky enough to find some as surplus. A horn or headlight relay will
cost between $5 and $10.  They aren't very well made but they are readily
available and easily replaced. 

Q: Is the LED necessary for the controller to work? 

A: The LED is not required for operation but you will need other
instrumentation to know if and when it is working.  The LED makes a handy
reference, expecially when doing the initial adjustments.  You will be
able to hear the relay pick but without some kind of indicator you may not
know it is opening or closing. 

Q: what pot settings do you recommend? 

A: To charge a lead/acid cell the charging voltage must be greater than
the fully charged voltage of the cell.  In theory you may use as high a
voltage as you wish but in practice heating effects limit the maximum
usable voltage. For practical purposes, 18 volts is about the maximum for
charging a 12v battery.  Above that, you will tend to evaporate the water
from the electrolyte faster than you will recharge the battery. 

Your solar panel will probably produce about 22 volts under no-load
conditions.  If connected to a discharged battery you will see a much
lower voltage across the battery's terminals, perhaps 11 volts.  But as
the state of charge is restored the terminal voltage will rise, eventually
reaching the full panel voltage of 22 volts.  The battery is fully
charged.  The energy being pumped into the battery will in fact be
dissipated as heat within the battery producing rapid wa ter loss and
eventual damage to the battery.  This is why you need an upper voltage
limit; it prevents overcharging. 

A practical upper limit is about 14.4 volts. 

When the upper limit is reached a considerable quanta of energy will be
contained in the electrolyte in the form of electrons raised to a higher
state in their valence.  When the incoming energy stops they quickly drop
back to their normal level.  This is a purely local action and does not
reflect a discharge or chemical change.  It is usual to allow a battery to
'rest' for 30 minutes after charging before measuring its voltage. 

Ideally, the charge-regulating element would have its on and off
set-points quite close together, such as 14.4 and 14.3, but if the charge
controller contains a MECHANICAL relay it will quickly wear out as the
controller oscillates between the on and off set-points. 

Since sitting the upper set-point too high can result in overcharging, and
sitting the lower set-point too low can result in an insufficient charge,
you can see that we have something of a paradox when we use
electro-mechanical components.  Automotive manufacturers solved the
problem by building in a slight delay, sufficient for the relay points to
cool before they again closed.  Later models of voltage regulators use
solid-state components which have no problem cycling thousand of times per
second. 

This controller reflects a compromise between durability, functionality
and low cost.  The gap between the set points is to allow time for the
points to cool.  Even so, your battery's condition may cause a very rapid
on/off cycle, in which case you may need to add some capacitance to the
circuit to insure the points are open for at least a few seconds before
closing again. 

Try 14.4 and 13.0 for your initial set-points.  If, when fully charged,
the relay oscillates ('buzzes'), try reducing the off-point to 12.8.  If
the buzz is still a problem you'll probably have to introduce a time
delay. 

Q: How does the controller &quot;know&quot; when the sun goes down, i.e., when the
solar panels actually discharge the battery? 

A: If the controller is sensing battery voltage it does not know when the
sun goes down and therefore will leave the solar array connected to the
battery.  However, most solar arrays are fitted with diodes to prevent a
back-current.  This may take the for m of tiny individual diodes on each
cell of the array, or a large diode on the arrays output lead.  If your
arrays are not protected with diodes you should add them.  A
Schottkey-type is best. 

On the other hand, you could just as easily use a second controller for
this purpose, one that uses the solar array as a power source instead of a
battery.  Such a controller would have no set points as such and would be
very simple; when the solar array was producing power the relay would
close. This is the scheme used for large arrays but for small systems
(&lt;1kw) diodes are the wiser choice.  I use Solvonics stainless steel
arrays; they come with individual diodes on each strip-cell. 

Q: What are the energy losses associated with charging the deep-cycle battery?

A: I'm not sure where the losses occur or if they are equal for charge and
discharge but the rule of thumb is that commercial-grade lead/acid
batteries are 90% efficient when new.  Pump in 100 watts, you can expect
to recover 90. I've also heard that the little sealed lead/acid cells
manufactured by Gates, Toshiba and others uses materials very close to
laboratory-grade purity, which results in lead/acid cells that are
slightly more efficient and have a longer service life.  I think I'd want
to see the fine print on this before I bet my life on it, though.  Maximum
service life is usually a reflection of maintaining a high state of
charge.  The batteries at the phone company last as long as twenty years
-- and seldom see anything other than full-charge, whereas a battery in
automotive service gets the hell beat out of it, lasts three or four years.

Q: Can I also use the controller instead of the timer when charging with
shore power? 

A: If you have shore power available you may use it to actuate another
voltage sensor but I don't think it would be wise to wire this voltage
sensor to the output of, say a 12vdc charger or power supply.  With your
battery fully charged and shore power available, the relay would oscillate
as the sensor detected the millivolt change as the system automatically
switched from one to the other.  It would be best to use a seperate sensor
with a slightly higher set-point so you would always be running from shore
power when it is available. 


-- 
Sami ('75 Westf.)
dakhlia_at_wuecona.wustl_dot_edu
http://wuecon.wustl_dot_edu/~samid/

</pre>
</body>
</html>
