# type2.com


---

this is BROKEN.  it sorta works. (only because we manually set content-types)

what's missing is that directory paths don't self-redirect to the trailing slash version:

  "trailingSlash": true,
fixes it.  sorta.   it means anything w/o extension gets a slash.  which..kinda works...


example:

https://www.type2.com/~keen/webertech
doesnt redirect to https://www.type2.com/~keen/webertech/

so relative links on the page break.  (ie, links on webertech/ becomes /~keen/...)

there are not enough rewrite rules or redirect rules allowed to "fix" this since we have to do them one by one.




STILL MISSING is oldarchive - those add about 4G of space, which is supposed to be supported by vercel but actually breaks deployment.   they also all need content-type support....


the content-type problem is baked in - they only use extensions to get content-type:
https://github.com/vercel/vercel/pull/9498/files




---

this is MERGED with a wallflower build version of the "new" dynamic site, plus a wget mirror of parts that can't be built through wallflower.




NOTES:

this is a OVERLAY of the NEW site on the OLD site.   this leaves the old urls primarily intact, so existing links continue to work.   this also leaves NEW site links working.

we have 25 years worth of backlinking to now both variations, on both http and https.    it's important to keep these working.



cloudflare:  no way to set content types for un-extensioned files....so it's pretty much dead for this.

vercel:  we have to generate conten-types for all un-extensioned

also, relative paths inside dir paths without trailing slashes break.  so we ahve to generate redirects for any time someone lands on a dir withotu a slash to redirect to a dir with a slash.


render:
Render lets you define response headers for your static sites in your dashboard.
yuck.





# type2.com

this was a ~12/2022 capture of a static version of the perl website, generated by wallflower

it's imperfect, particularly since the dynamic parts aren't going to work.


this is populated from ../gitlab/website-type2/build.sh
at least the wallflower branch


----




This is dual deployed to vercel and render:

https://vercel.com/type2com/website  -->

dev branch --> https://website-tau-jet.vercel.app/

master branch --> https://www.type2.com/

Dynamic branch envs use this pattern:

https://website-git-dev-type2com.vercel.app/
https://website-git-master-type2com.vercel.app/



https://dashboard.render.com/static/srv-cebb9farrk0bbte9vqm0

master branch --> https://type2.onrender.com/

12/19/23 render is broken internally - wont clone, so no updates since 12/12/22

----




this is a static copy of the old www.type2.com website - before the https/perl version.

this was assembled ~12/12/2022 from the filesystem of purple.type2.com and _should_ reflect how the webserver served it, complete with homedirs etc

base from home/www/type2.com/public_html/

has 6 symlinks:

./bartnik
./rvanness
./rescue
./archives
./m-codes
./molenari

so we can work around these as needed


